{% extends 'base.html' %}

{% block header_text %}Your To-Do lists{% endblock %}
{% block form_action %}/lists/{{ list.id }}/add_item{% endblock %}

{% block table %}
  <table id="id_list_table" class="table">
    {% for item in list.item_set.all %}
      <tr>
        <td>
            {{ forloop.counter }}: {{ item.text }}
            
            {% if item.priority == 'high' %}
                <span class="badge bg-danger">High</span>
            {% elif item.priority == 'medium' %}
                <span class="badge bg-warning text-dark">Medium</span>
            {% else %}
                <span class="badge bg-success">Low</span>
            {% endif %}
            </td>
            
            <td>
            <a href="{% url 'edit_item' list.id item.id %}">
                <button>Edit</button>
            </a>
        </td>
      </tr>
    {% endfor %}
  </table>
  
  <div class="mt-3 text-center"> 
      <a href="/" class="btn btn-secondary">Back to Home</a>
  </div>
{% endblock %}